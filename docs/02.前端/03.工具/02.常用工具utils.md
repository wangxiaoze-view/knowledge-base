---
title: 常用工具utils
date: 2024-04-12 21:58:14
permalink: /pages/bc5ae0/
---

在系统开发中，经常会用到一些底层的方式，`hooks, utils`等我们把这些封装起来，方便使用。

我们熟悉的`utils`有： `lodash, lodash-es， vueuse`等是我在项目中经常使用的；

在之前，我是比较好奇的，这些工具是如何开发出来的，怎么才能开发属于我自己一套的工具呢？

我在学习参考了`lodas`的开发模式，那我大致明白了是如何开发一个工具库的；

我们把一堆方法融合起来，无非这些方式有不同的参数，有共同的方法的等等；然后通过`rollup`打包工具将这些方法打包成不同的设备兼容文件等等；

入口文件例如:

````js
import { version, author, description } from "../package.json";

import regular from "./regular/index";
import utils from "./util";
import array from "./array";
import string from "./string";
import { UtilsFuncs } from "./types";

// 没有什么特殊意义，仅仅是记录当前工具库的版本， 作者，描述等等；
const __VERSION__ = version;
const __AUTHOR__ = author;
const __DESC__ = description;

// ======================================================正则======================================================
/**
 *
 * 手机号校验，最宽松模式, 没有按照国家准展示; 只是数字展示11位
 * @version 1.0.0
 * @category 常用正则
 * @param value 校验的字符串
 * @example
 *
 * ``` typescript
 * isPhoneLoosest('+8613411111111') // true
 * isPhoneLoosest('13411111111') // true
 * ```
 */
const isPhoneLoosest = regular.isPhoneLoosest;

const utilstools: UtilsFuncs = {
	// 系统信息
	__VERSION__,
	__AUTHOR__,
	__DESC__,

	// 正则
	isPhoneLoosest,
};

export {
	// 系统信息
	__VERSION__,
	__AUTHOR__,
	__DESC__,

	// 正则
	isPhoneLoosest,
};

export default utilstools;
````

这样我们就知道这个工具的版本号，有哪些方法等等；最后配置打包工具将这些代码文件进行压缩，混淆加密等等；然后通过`npm`上传对应的插件；

```js
// 登录npm
npm login

// 发布npm
// 切记：package.json 中的name 不能和其他的包冲突，否则你npm会报错
npm publish


```

## 如何使用呢？

### 浏览器使用，引入 js-cdn

::: tip
默认引入： https://cdn.jsdelivr.net/npm/wxz-utils/dist/index.js

支持版本引入：https://cdn.jsdelivr.net/npm/wxz-utils/dist/index.js@1.0.0
:::

浏览器`<script>`中这样使用：

```js
// 打印全局变量，如果有值说明引入成功;
console.log(wxzUtils);
console.log("加", wxzUtils.add(1, 2));
console.log("减", wxzUtils.subtract(1, 2));
console.log("乘", wxzUtils.multi(1, 2));
console.log("除", wxzUtils.division(1, 2));
```

### node 中使用

使用命令: <code>npm i wxz-utils</code>

```js
import { add } from "wxz-utils";
console.log(add(1, 2));

const wxzUtils = require("wxz-utils");
console.log(wxzUtils.add(1, 2));
```

### VUE 中使用

```ts
import { add } from "wxz-utils";
console.log(add(1, 2));
```

具体代码可查看下方地址

## 代码地址

- [工具 Github](https://github.com/wangxiaoze-view/utilstools)
- [如何安装使用](https://www.npmjs.com/package/wxz-utils)
- [工具文档](https://utilstools-docs.wangxiaoze.wang/)
