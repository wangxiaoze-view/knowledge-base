(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{355:function(t,e,s){"use strict";s.r(e);var a=s(4),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("最近在"),e("code",[t._v("bili")]),t._v("上看到了一个可视化运营面板"),e("code",[t._v("(go + docker)")]),t._v("搭建而成的； 于是我花巨资买了一台服务器, 在"),e("code",[t._v("Ubuntu")]),t._v("操作系统上安装使用"),e("code",[t._v("1Panel")]),t._v("；")]),t._v(" "),e("p",[t._v("首先"),e("code",[t._v("1Panel")]),t._v("的在线安装, "),e("a",{attrs:{href:"https://1panel.cn/docs/installation/online_installation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("如使用其他安装方式，可查看官网"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里我使用的是Ubuntu")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sSL")]),t._v(" https://resource.fit2cloud.com/1panel/package/quick_start.sh "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" quick_start.sh "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" quick_start.sh\n")])])]),e("p",[t._v("因为面板是使用"),e("code",[t._v("docker")]),t._v("搭建的，当然就要安装"),e("code",[t._v("docker")]),t._v(";")]),t._v(" "),e("h2",{attrs:{id:"问题一-安装docker超时失败"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题一-安装docker超时失败"}},[t._v("#")]),t._v(" 问题一：安装"),e("code",[t._v("docker")]),t._v("超时失败")]),t._v(" "),e("p",[t._v("因为安装"),e("code",[t._v("docker")]),t._v("就像安装"),e("code",[t._v("npm/pnpm install")]),t._v("类似，是需要镜像源地址的；")]),t._v(" "),e("p",[t._v("因为"),e("code",[t._v("1Panel")]),t._v("默认使用的是官方的镜像源，那么在中国大陆很多关于"),e("code",[t._v("docker")]),t._v("的镜像源地址都关闭下架了；可以查看 "),e("a",{attrs:{href:"https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6",target:"_blank",rel:"noopener noreferrer"}},[t._v("githubDocker Hub 镜像加速器"),e("OutboundLink")],1),t._v("，可以看出很多的地址要不是内部使用要么就是关闭了；")]),t._v(" "),e("p",[t._v("我花时间查询了一下相关资料，就是你的先在你的服务器上安装"),e("code",[t._v("docker")]),t._v("，但是安装需要镜像地址； 之后发现了一类似问题的网页: "),e("a",{attrs:{href:"https://bbs.fit2cloud.com/t/topic/5899",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装 1panel 时提示 docker 安装失败"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("当然您可以尝试一下， 但是我使用的是 (大陆服务器安装 docker 的临时方法（2024.6 月）（docker 安装失败的情况）)[https://bbs.fit2cloud.com/t/topic/5891/27]， 有大佬发了一个现成的"),e("code",[t._v("SHELL")]),t._v("命令：")]),t._v(" "),e("h3",{attrs:{id:"安装方式一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装方式一"}},[t._v("#")]),t._v(" 安装方式一")]),t._v(" "),e("ul",[e("li",[t._v("自用 VPS 初始设置脚本: 自带 docker 和 docker-compose 安装")])]),t._v(" "),e("div",{staticClass:"language-SH extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# bash <(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# bash <(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# bash <(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# bash <(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -qO- --no-check-certificate https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),e("h3",{attrs:{id:"安装方式二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装方式二"}},[t._v("#")]),t._v(" 安装方式二")]),t._v(" "),e("div",{staticClass:"language-SH extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sSL")]),t._v(" https://linuxmirrors.cn/docker.sh"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("镜像我选择的是"),e("code",[t._v("阿里云")]),t._v("， 回车之后等待安装， 安装成功之后重新执行安装"),e("code",[t._v("1Panel")]),t._v("命令； 之后等待完成即可；之后会有访问的面板地址，账户以及密码(类似宝塔)")]),t._v(" "),e("h2",{attrs:{id:"问题二-下载应用加速镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题二-下载应用加速镜像"}},[t._v("#")]),t._v(" 问题二：下载应用加速镜像")]),t._v(" "),e("p",[t._v("我们需要设置一下默认的加速镜像地址")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://qiniu.wangxiaoze.wang/hexo-blog/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png",alt:"地址"}})]),t._v(" "),e("p",[t._v("点击快速跳转，找到"),e("code",[t._v("镜像加速--\x3e 设置")]),t._v("，添加地址"),e("code",[t._v("https://docker.1panel.live")]),t._v("这是临时使用的地址；\n"),e("a",{attrs:{href:"https://bbs.fit2cloud.com/t/topic/5886",target:"_blank",rel:"noopener noreferrer"}},[t._v("应用安装失败 镜像拉取超时的临时解决方案"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("之后直接安装就好了，但是速度可能有点慢，等待完成安装即可；")]),t._v(" "),e("h2",{attrs:{id:"问题三-证书申请"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题三-证书申请"}},[t._v("#")]),t._v(" 问题三：证书申请")]),t._v(" "),e("p",[e("code",[t._v("网站 --\x3e 证书")]),t._v("， 创建"),e("code",[t._v("Acme账户和Dns账户")]),t._v("， 这里主要说下"),e("code",[t._v("DNS账户如何申请使用")]),t._v("：我使用的是腾讯云：")]),t._v(" "),e("p",[t._v("首先进入腾讯"),e("a",{attrs:{href:"https://console.cloud.tencent.com/cam/overview",target:"_blank",rel:"noopener noreferrer"}},[t._v("云控制台-访问管理"),e("OutboundLink")],1),t._v("，找到 用户 -> 用户列表，点击新建用户-> 自定义创建。")]),t._v(" "),e("p",[t._v("依次完成以下步骤:")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("选择类型：可访问资源并接收消息")])]),t._v(" "),e("li",[e("p",[t._v("填写用户信息：用户名随便填啦，我填的是 1panel-dns-demo，勾选编程访问。")])]),t._v(" "),e("li",[e("p",[t._v("设置用户权限：搜下 dns，勾选第一个云解析 DNS 全读写访问权限策略名为 QcloudDNSPodFullAccess。")])]),t._v(" "),e("li",[e("p",[t._v("设置用户标签：有没有无所谓。")])]),t._v(" "),e("li",[e("p",[t._v("审阅信息和权限：看下用户信息有没有问题，没问题就点完成。")])])]),t._v(" "),e("p",[t._v("完成后记得保存用户的 SecretId 与 SecretKey，只会显示一次。")]),t._v(" "),e("p",[t._v("可以查看参考文档")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 1Panel 中申请 SSL 证书"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.soulcloser.com/4075/",target:"_blank",rel:"noopener noreferrer"}},[t._v("1panel 中使用 cloudflare DNS 账户申请 SSL 证书&自动续签"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("需要注意的是，申请的域名不能带特殊字符哦；")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);