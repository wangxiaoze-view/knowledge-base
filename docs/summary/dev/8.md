# 背景

最近有一个想法，就是在工作中有那么一个功能就是 商品属性， 类似于淘宝京东的选择商品规格的功能；

该功能涉及到多个平台，每个属性有对应的规则，但是有一个比较麻烦的点就是功能是一致的，规则是一样的，就是完全的功能要在不同的项目中复制粘贴修改；

这样暴露了一个弊端就是，每次规则一变动，那么我就要修改多个项目，这样我就觉得很麻烦；

于是就诞生一个想法，要么开发依赖，要么搞一个远程组件；这样的化多个平台使用这个远程组件，后期只维护远程组件即可；

## 思路

近期晚上在研究这个如何做？

于是我还是采用`VITE`的打包方式，原因就是很简单，速度，配置等都算的是比较不错的，当然是还可以配置 rollup 配置； 完全是自定义的；

组件使用 vueComponent 的方式，之前也想过用函数组件，但是有些场景不太合适；

一个简单的方式就是编写一个组件，使用 vite—lib 的形式将其打包成模块，然后使用 import 引入即可；

当然，既然是远程组件，那么就会支持的俩种方式

1. `import {} from 'xx`
2. `import aa from 'https://xxx.com/xx.js`

例如：

```JS
{
  build: {
    lib: {
      entry: '',
      name: '',
      formats: ['es']
    },
    rollupOptions: {
      external: {},
      output: {
      }
    },
    cssCodeSplit: true
  }
}
```

以依赖包的形式将进行打包，这样可以了（具体的细节不会介绍）

[源码，暂时不开源](https://github.com/wangxiaoze-view/remote-components)
