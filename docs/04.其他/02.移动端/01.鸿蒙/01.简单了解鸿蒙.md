---
title: 简单了解鸿蒙
date: 2024-04-12 20:56:10
permalink: /pages/9039b2
---

国产开发语言它来了，前段时间在抖音上经常刷到`鸿蒙`的相关视频；说是`鸿蒙`会将底层的`Android`代码去除，那就是说这是一个纯血的系统；

我本身就是前端开发人员，前期接触是比较简单，容易上手的，在相比较传统`h5，混合开发`的开发模式，`鸿蒙`的架构更接近于原声系统；

之前简单的接触过`Flutter`, 相对于俩者的编程语言, 目录架构以及第三方插件，资源图片等等是完全不一样的：

1. `Flutter`是谷歌官方的开源项目，是谷歌官方的跨平台开发框架；
2. `HarmonyOS`是华为官方的开源项目，是华为官方的跨平台开发框架；
3. `HarmonyOS`和`Flutter`都是跨平台开发框架；
4. `HarmonyOS`的`rts`，如果有`ts`的基础那么`rts`就比较容易上手；布局样式参数属性和`H5`大差不差的，而`Flutter`的布局样式参数属性，需要学习`dart`基础，而且还是地狱嵌套；

## 开始

要想接触鸿蒙，那么就要有开发文档，于是自己就花了几个小时间看了一下鸿蒙的官方文档，值得表扬的是竟然还有相对应部分文档的开始视频；这是为了小白更好的上手吗？

于是自己就开始接触了鸿蒙，如何下载`idea, sdk`可以去官方查阅相关资料

因为之前接触过`flutter`，所以上手很快，很快自己就搭建好了开发环境；和`flutter`有点区别是：鸿蒙是函数式编程，所以开发的时候会觉得很简单，因为之前我没有接触过`Android, Ios`开发，我不清楚是移动端都是这样冗余长度的代码吗？总感觉像是`promise`地狱嵌套；

如果之前接触过相关项目搭建的过程，那么就会对项目的构造有一定的认识；

## 开始编写

每个项目都会有一个入口文件, `flutter`是`main.dart` ，`鸿蒙`是`entry/src/main/ets/entryability/EntryAbility.ts`；每个入口文件都会有应用的生命周期；

例如：创建，销毁，隐藏，显示，进入后台，进入前台等等；

鸿蒙的入口文件中，是如何打开的首页呢?

```ts
onWindowStageCreate(windowStage: window.WindowStage): void {
    // Main window is created, set main page for this ability
    // 这里是内置的日志
    hilog.info(0x0000, 'testTag', '%{public}s', 'Ability onWindowStageCreate');


    // 加载首页
    windowStage.loadContent('pages/Index', (err, data) => {
      if (err.code) {
        hilog.error(0x0000, 'testTag', 'Failed to load the content. Cause: %{public}s', JSON.stringify(err) ?? '');
        return;
      }
      hilog.info(0x0000, 'testTag', 'Succeeded in loading the content. Data: %{public}s', JSON.stringify(data) ?? '');
    });
}
```

不过这里也可以做一个活动倒计时页面或者开屏页面，`3s时间`跳转到登陆页面或者首页;

首页需要做那些内容呢？

1. 需要一个`tabbar`，这个`tabbar`,需要对应的`tab`页面；
2. 要与`tabbar`进行交互，需要一个`tabbar`的`controller`，这个`controller`需要与`tabbar`进行交互；

```ts
@Entry
@Component
struct Index {
  @State currentIndex: number = 0
  private controller: TabsController = new TabsController()
  private app_bottom_nav: BottomNavType[] = [
    { name: '首页', icon: $r('app.media.icon_home'), active_icon: $r('app.media.icon_home_active') },
    { name: '商城', icon: $r('app.media.icon_mall'), active_icon: $r('app.media.icon_mall_active') },
    { name: '订单', icon: $r('app.media.icon_order'), active_icon: $r('app.media.icon_order_active') },
    { name: '消息', icon: $r('app.media.icon_msg'), active_icon: $r('app.media.icon_msg_active') },
    { name: '我的', icon: $r('app.media.icon_my'), active_icon: $r('app.media.icon_my_active') },
  ]

//  可以理解为前端的组件， 不过对于移动端来说 是builder
  @Builder
  TabBuilder(item: BottomNavType, index: number) {
    Column({ space: 6 }) {
      Image(this.currentIndex === index ? item.active_icon : item.icon)
        .width(22)
        .width(22)
      Text(item.name)
        .fontColor(this.currentIndex === index ? $r('app.color.tab_bottom_color_active') : $r('app.color.tab_bottom_color'))
        .fontSize(10)
        .fontWeight(this.currentIndex === index ? 500 : 400)
    }
    .alignItems(HorizontalAlign.Center)
    .justifyContent(FlexAlign.Center)
  }

  build() {
    Tabs({ barPosition: BarPosition.End, controller: this.controller }) {
      TabContent() {
        Home()
      }
      .tabBar(this.TabBuilder(this.app_bottom_nav[0], 0))

      TabContent() {
        Mall()
      }
      .tabBar(this.TabBuilder(this.app_bottom_nav[1], 1))

      TabContent() {
        Order()
      }.tabBar(this.TabBuilder(this.app_bottom_nav[2], 2))

      TabContent() {
        Message()
      }.tabBar(this.TabBuilder(this.app_bottom_nav[3], 3))

      TabContent() {
        My()
      }.tabBar(this.TabBuilder(this.app_bottom_nav[4], 4))
    }
    // .scrollable(false)
    .barMode(BarMode.Fixed)
    .barHeight(70)
    .animationDuration(400)
    .backgroundColor($r('app.color.bg_color'))
    .onChange((index: number) => {
      this.currentIndex = index
    })
  }
}
```

因为`github`上这个项目已经进行了开源，现在不会过多介绍相关内容，像一些鸿蒙的组件., api 等等还是需要去官网查阅文档；

## 效果预览

[简单的 Demo](https://github.com/wangxiaoze-view/HarmonyOs-App)
