import{_ as e,c as s,o as a,a3 as t}from"./chunks/framework.DflgEAq4.js";const u=JSON.parse('{"title":"背景","description":"","frontmatter":{},"headers":[],"relativePath":"summary/dev/5.md","filePath":"summary/dev/5.md"}'),i={name:"summary/dev/5.md"},l=t(`<h1 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-label="Permalink to &quot;背景&quot;">​</a></h1><p>最近在<code>bili</code>上看到了一个可视化运营面板<code>(go + docker)</code>搭建而成的； 于是我花巨资买了一台服务器, 在<code>Ubuntu</code>操作系统上安装使用<code>1Panel</code>；</p><p>首先<code>1Panel</code>的在线安装, <a href="https://1panel.cn/docs/installation/online_installation/" target="_blank" rel="noreferrer">如使用其他安装方式，可查看官网</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 这里我使用的是Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://resource.fit2cloud.com/1panel/package/quick_start.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> quick_start.sh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> quick_start.sh</span></span></code></pre></div><p>因为面板是使用<code>docker</code>搭建的，当然就要安装<code>docker</code>;</p><h2 id="问题一-安装docker超时失败" tabindex="-1">问题一：安装<code>docker</code>超时失败 <a class="header-anchor" href="#问题一-安装docker超时失败" aria-label="Permalink to &quot;问题一：安装\`docker\`超时失败&quot;">​</a></h2><p>因为安装<code>docker</code>就像安装<code>npm/pnpm install</code>类似，是需要镜像源地址的；</p><p>因为<code>1Panel</code>默认使用的是官方的镜像源，那么在中国大陆很多关于<code>docker</code>的镜像源地址都关闭下架了；可以查看 <a href="https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6" target="_blank" rel="noreferrer">githubDocker Hub 镜像加速器</a>，可以看出很多的地址要不是内部使用要么就是关闭了；</p><p>我花时间查询了一下相关资料，就是你的先在你的服务器上安装<code>docker</code>，但是安装需要镜像地址； 之后发现了一类似问题的网页: <a href="https://bbs.fit2cloud.com/t/topic/5899" target="_blank" rel="noreferrer">安装 1panel 时提示 docker 安装失败</a></p><p>当然您可以尝试一下， 但是我使用的是 (大陆服务器安装 docker 的临时方法（2024.6 月）（docker 安装失败的情况）)[<a href="https://bbs.fit2cloud.com/t/topic/5891/27" target="_blank" rel="noreferrer">https://bbs.fit2cloud.com/t/topic/5891/27</a>]， 有大佬发了一个现成的<code>SHELL</code>命令：</p><h3 id="安装方式一" tabindex="-1">安装方式一 <a class="header-anchor" href="#安装方式一" aria-label="Permalink to &quot;安装方式一&quot;">​</a></h3><ul><li>自用 VPS 初始设置脚本: 自带 docker 和 docker-compose 安装</li></ul><div class="language-SH vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # bash &lt;(wget -qO- --no-check-certificate https://fastly.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash &lt;(wget -qO- --no-check-certificate https://gcore.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash &lt;(wget -qO- --no-check-certificate https://testingcf.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash &lt;(wget -qO- --no-check-certificate https://cdn.jsdelivr.net/gh/okxlin/ToolScript@main/tools/vps-setup.sh)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qO-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-check-certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirror.ghproxy.com/https://github.com/okxlin/ToolScript/raw/main/tools/vps-setup.sh)</span></span></code></pre></div><h3 id="安装方式二" tabindex="-1">安装方式二 <a class="header-anchor" href="#安装方式二" aria-label="Permalink to &quot;安装方式二&quot;">​</a></h3><div class="language-SH vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">SH</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://linuxmirrors.cn/docker.sh)</span></span></code></pre></div><p>镜像我选择的是<code>阿里云</code>， 回车之后等待安装， 安装成功之后重新执行安装<code>1Panel</code>命令； 之后等待完成即可；之后会有访问的面板地址，账户以及密码(类似宝塔)</p><h2 id="问题二-下载应用加速镜像" tabindex="-1">问题二：下载应用加速镜像 <a class="header-anchor" href="#问题二-下载应用加速镜像" aria-label="Permalink to &quot;问题二：下载应用加速镜像&quot;">​</a></h2><p>我们需要设置一下默认的加速镜像地址</p><p><img src="https://qiniu.wangxiaoze.wang/hexo-blog/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240609160644.png" alt="地址"></p><p>点击快速跳转，找到<code>镜像加速--&gt; 设置</code>，添加地址<code>https://docker.1panel.live</code>这是临时使用的地址； <a href="https://bbs.fit2cloud.com/t/topic/5886" target="_blank" rel="noreferrer">应用安装失败 镜像拉取超时的临时解决方案</a></p><p>之后直接安装就好了，但是速度可能有点慢，等待完成安装即可；</p><h2 id="问题三-证书申请" tabindex="-1">问题三：证书申请 <a class="header-anchor" href="#问题三-证书申请" aria-label="Permalink to &quot;问题三：证书申请&quot;">​</a></h2><p><code>网站 --&gt; 证书</code>， 创建<code>Acme账户和Dns账户</code>， 这里主要说下<code>DNS账户如何申请使用</code>：我使用的是腾讯云：</p><p>首先进入腾讯<a href="https://console.cloud.tencent.com/cam/overview" target="_blank" rel="noreferrer">云控制台-访问管理</a>，找到 用户 -&gt; 用户列表，点击新建用户-&gt; 自定义创建。</p><p>依次完成以下步骤:</p><ol><li><p>选择类型：可访问资源并接收消息</p></li><li><p>填写用户信息：用户名随便填啦，我填的是 1panel-dns-demo，勾选编程访问。</p></li><li><p>设置用户权限：搜下 dns，勾选第一个云解析 DNS 全读写访问权限策略名为 QcloudDNSPodFullAccess。</p></li><li><p>设置用户标签：有没有无所谓。</p></li><li><p>审阅信息和权限：看下用户信息有没有问题，没问题就点完成。</p></li></ol><p>完成后记得保存用户的 SecretId 与 SecretKey，只会显示一次。</p><p>可以查看参考文档</p><ul><li><a href="https://insectmk.cn/posts/f3cf7d8c/index.html#%E5%88%9B%E5%BB%BA%E8%85%BE%E8%AE%AF%E4%BA%91%E7%94%A8%E6%88%B7" target="_blank" rel="noreferrer">在 1Panel 中申请 SSL 证书</a></li><li><a href="https://www.soulcloser.com/4075/" target="_blank" rel="noreferrer">1panel 中使用 cloudflare DNS 账户申请 SSL 证书&amp;自动续签</a></li></ul><blockquote><p><strong>需要注意的是，申请的域名不能带特殊字符哦；</strong></p></blockquote>`,30),o=[l];function n(p,c,r,h,d,k){return a(),s("div",null,o)}const b=e(i,[["render",n]]);export{u as __pageData,b as default};
